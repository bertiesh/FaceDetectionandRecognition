# Benchmark Testing

This repository contains scripts and tools to benchmark the performance and accuracy of a face recognition system. The scripts automate testing tasks such as dataset preparation, bulk uploads, response time measurements, and accuracy evaluations.

---

## Dataset

The dataset for testing can be found at [Dataset](add link here).

---

## Folder Structure
- **`test_data_setup.py`**  
  Prepares the test dataset by randomly selecting one image per person for upload and one image for testing. The input directory should be a recursive directory such that each directory contains different images of the same person. It outputs two directories:
    - `upload directory`: Contains images to be uploaded to the database.
    - `test directory`: Contains images used for face recognition accuracy testing.

- **`run_bulk_upload.sh`**  
  Starts the server and uploads images from the `upload directory` to the database, measuring the time taken for the operation.

- **`run_face_find_time.sh`**  
  Starts the server and tests the face recognition function by running a single query image against the database, measuring the time taken to return results.

- **`run_face_find_accuracy.sh`**  
  Starts the server and evaluates the face recognition system. It tests the face recognition function on all images in the `test directory` one by one, saving the results to a CSV file.

- **`test_data_metrics.py`**  
  Analyzes the output CSV file generated by `run_face_find_accuracy.sh` to calculate and return the accuracy metrics for the face recognition system.

---

## Instructions to Run Testing
1. **Prepare Dataset**  
   - Download the dataset containing multiple directories (each directory represents a person and contains their images) from Google Drive Link.
2. **Run Test Data Setup**
   - Replace the directory names in the `test_data_setup.py` file with appropriate directory locations.
   - Execute `test_data_setup.py` to create the `upload directory` and `test directory`.
3. **Run Bulk Upload and Measure Upload Time**
   - Replace the directory names in the `run_bulk_upload.sh` file with appropriate directory locations.
   - Execute `run_bulk_upload.sh` to upload images to the database.
4. **Run Face Find and Measure Search Time**
   - Replace the directory names in the `run_face_find_time.sh` file with appropriate directory locations.
   - Execute `run_face_find_time.sh` to measure the response time of the face recognition system for a single query.
5. **Run Face Find and Measure Accuracy**  
   - Replace the directory names in the `run_face_find_accuracy.sh` file with appropriate directory locations.
   - Execute `run_face_find_accuracy.sh` to create output csv.
   - Use `test_data_metrics.py` to analyze the accuracy of the face recognition system.

